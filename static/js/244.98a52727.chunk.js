"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[244],{59:(e,t,s)=>{s.d(t,{A:()=>n});s(43);var a=s(487),r=s(579);const n=e=>{let{title:t="No items found",description:s="There are no items to display at the moment.",icon:n,action:l,className:i=""}=e;return(0,r.jsxs)(a.P.div,{className:"flex flex-col items-center justify-center p-8 text-center ".concat(i),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[n&&(0,r.jsx)("div",{className:"mb-4 text-gray-400",children:n}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),(0,r.jsx)("p",{className:"text-gray-500 mb-6 max-w-md",children:s}),l&&(0,r.jsx)("div",{className:"mt-2",children:l})]})}},244:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(555),r=s(43),n=s(659),l=s(277),i=s(487),o=s(579);const c=r.memo(e=>{let{test:t,subject:s,isEditMode:a=!1,onDelete:r}=e;const n=(0,l.j)(),c=t.link&&!a?"cursor-pointer hover:shadow-md hover:-translate-y-1":"",d="".concat("relative p-4 rounded-lg flex justify-between items-center transition-all duration-300"," ").concat(t.completed?"bg-green-100":"bg-gray-50"," ").concat(c);return(0,o.jsxs)("div",{id:"trophy-test-item-".concat(s,"-").concat(t.title),className:d,onClick:()=>{!a&&t.link&&t.link.startsWith("http")?window.open(t.link,"_blank"):t.link&&console.warn("Invalid link for ".concat(t.title,": ").concat(t.link,". Must start with http:// or https://"))},children:[(0,o.jsxs)("div",{className:"flex items-center flex-grow min-w-0",children:[(0,o.jsx)(i.P.button,{onClick:e=>{e.stopPropagation(),n.toggleTestCompletion(s,t.title,!t.completed)},className:"flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4","aria-label":t.completed?"Mark as incomplete":"Mark as complete",whileTap:{scale:.85},animate:{scale:t.completed?1.1:1,backgroundColor:t.completed?"#22c55e":"#ffffff00",borderColor:t.completed?"#22c55e":"#d1d5db"},transition:{type:"spring",stiffness:400,damping:15},children:t.completed&&(0,o.jsx)(i.P.svg,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:20},xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("div",{className:"flex items-center gap-2",children:(0,o.jsx)("h4",{className:"font-semibold truncate ".concat(t.completed?"text-gray-800":"text-gray-900"),children:t.title})}),(0,o.jsxs)("p",{className:"text-sm mt-1 ".concat((t.completed,"text-gray-600")),children:[t.mcqs," MCQs"]})]})]}),(0,o.jsx)("div",{className:"flex-shrink-0 ml-2",children:a?(0,o.jsx)("button",{className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-100 transition-colors duration-200",onClick:e=>{e.stopPropagation(),r(s,t.title)},"aria-label":"Delete test",children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M3 6h18"}),(0,o.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,o.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,o.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,o.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):t.link&&(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:(0,o.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})});var d=s(59),u=s(377);const m=r.memo(e=>{let{currentSelectedSubject:t,setCurrentSelectedSubject:s,showNotification:i}=e;const{testData:m}=(0,n.O)(),x=(0,l.j)(),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[f,v]=(0,r.useState)(""),[y,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),k=(0,r.useMemo)(()=>Object.keys(m),[m]);(0,r.useEffect)(()=>{!(k.length>0)||t&&k.includes(t)?0===k.length&&""!==t&&s(""):s(k[0])},[k,t,s]);const C=r.useCallback(()=>{b(!0)},[]),L=r.useCallback(()=>{b(!1)},[]),A=r.useCallback(()=>{p(e=>!e)},[]),M=r.useCallback(e=>{s(e)},[s]),T=r.useCallback(e=>{const t=e.target.value;if(v(t),w&&N(""),t.trim().length>=2){j(!0);const e=setTimeout(()=>{j(!1)},300);return()=>clearTimeout(e)}t.trim().length>0&&N("Please enter at least 2 characters")},[w]),S=r.useCallback((e,t)=>{x.deleteTest(e,t)},[x]),B=r.useCallback(e=>{x.toggleTestCompletion(e)},[x]),E=f.trim().length>=2,P=E?Object.entries(m).flatMap(e=>{let[t,s]=e;return s.filter(e=>e.title.toLowerCase().includes(f.toLowerCase())).map(e=>(0,a.A)((0,a.A)({},e),{},{subject:t}))}):t&&m[t]?m[t].map(e=>(0,a.A)((0,a.A)({},e),{},{subject:t})):[];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{id:"page-trophy",className:"page px-6 py-8",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tests"}),(0,o.jsxs)("button",{onClick:A,className:"bg-blue-50 text-blue-700 font-semibold text-xs px-4 py-2 rounded-full flex items-center hover:bg-blue-100 transition duration-200","aria-label":h?"Done editing tests":"Edit tests",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[(0,o.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,o.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),h?"Done":"Edit"]})]}),(0,o.jsx)("p",{className:"text-gray-500 mb-6",children:"Completed Tests & Progress"}),(0,o.jsxs)("div",{className:"mb-6 relative",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:"text",placeholder:"Search tests by title or subject...",className:"w-full pl-10 pr-10 py-2 rounded-lg border ".concat(w?"border-red-400":"border-gray-300"," focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white transition-colors duration-200"),value:f,onChange:T,"aria-label":"Search tests","aria-invalid":!!w,"aria-describedby":w?"search-error":void 0}),(0,o.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:y?(0,o.jsxs)("svg",{className:"animate-spin h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),f&&(0,o.jsx)("button",{onClick:()=>{v(""),N("")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Clear search",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsx)("div",{className:"flex justify-between mt-1 px-1",children:w?(0,o.jsx)("p",{id:"search-error",className:"text-xs text-red-500",children:w}):f?(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:[f.length,"/50 characters \u2022 ",P.length," result",1!==P.length?"s":""," found"]}):(0,o.jsx)("p",{className:"text-xs text-gray-400",children:"Type at least 2 characters to search"})})]}),!E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"flex space-x-3 mb-6 overflow-x-auto hide-scrollbar",id:"subject-filters-container",children:k.map(e=>{var s,a;return(0,o.jsxs)("button",{className:"subject-filter flex-shrink-0 text-left p-3 rounded-lg transition-colors duration-200\n                                        ".concat(t===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:()=>M(e),children:[(0,o.jsx)("p",{className:"font-bold",children:e}),(0,o.jsxs)("p",{className:"text-sm ".concat(t===e?"opacity-80":"text-gray-500"),children:[(null===(s=m[e])||void 0===s?void 0:s.length)||0," Test",1===(null===(a=m[e])||void 0===a?void 0:a.length)?"":"s"]})]},e)})}),(0,o.jsxs)("button",{onClick:C,className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300 mb-6",disabled:!t,children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,o.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test to ".concat(t||"...")]})]}),(0,o.jsx)("div",{id:"test-list-container",className:"space-y-3",children:0===P.length?(0,o.jsx)(d.A,{title:E?"No tests found":"No tests available",description:E?"No tests match your search. Try different keywords or check your spelling.":t?"No tests found for ".concat(t,". Add your first test!"):"Select a subject to view or add tests.",icon:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300",children:[(0,o.jsx)("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),(0,o.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,o.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,o.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,o.jsx)("polyline",{points:"10 9 8 9 8 13"})]}),action:!y&&t&&(0,o.jsxs)("button",{onClick:C,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Your First Test"]})}):P.map(e=>(0,o.jsx)(c,{test:e,subject:e.subject,isEditMode:h,onDelete:S,handleToggleTestCompletion:B},e.subject+"-"+e.title))})]}),(0,o.jsx)(u.A,{isOpen:g,onClose:L,onSave:e=>{x.addTest(t,e.title,e.mcqs,e.date,e.link)},title:"Add New Test to ".concat(t),fields:[{name:"title",label:"Test Title",placeholder:"e.g., Mid-term Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 40",required:!0},{name:"date",label:"Completion Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],showNotification:i})]})})},377:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(555),r=s(43),n=s(277),l=s(546),i=s(487),o=s(867),c=s(579);const d={},u=(e,t)=>{if(e.required&&!t)return"".concat(e.label," is required");if(t){if("email"===e.type&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Please enter a valid email address";if("url"===e.type&&!/^https?:\/\//.test(t))return"Please enter a valid URL starting with http:// or https://";if("number"===e.type){const s=Number(t);if(isNaN(s))return"Please enter a valid number";if(void 0!==e.min&&s<e.min)return"Must be at least ".concat(e.min);if(void 0!==e.max&&s>e.max)return"Cannot exceed ".concat(e.max)}if(e.minLength&&t.length<e.minLength)return"Must be at least ".concat(e.minLength," characters");if(e.maxLength&&t.length>e.maxLength)return"Cannot exceed ".concat(e.maxLength," characters");if(e.validate&&"function"===typeof e.validate){const s=e.validate(t,e);if(s)return s}}return""},m=e=>{let{isOpen:t,onClose:s,onSave:m,title:x,fields:h,initialState:p=d}=e;const g=(0,n.j)(),[b,f]=(0,r.useState)({}),[v,y]=(0,r.useState)({}),[j,w]=(0,r.useState)({}),[N,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){const e=h.reduce((e,t)=>{var s,a;return e[t.name]=null!==(s=null!==(a=p[t.name])&&void 0!==a?a:t.defaultValue)&&void 0!==s?s:"",e},{});f(e),y({}),w({})}else f({}),y({}),w({})},[t,h,p]);const C=(0,r.useCallback)(()=>{const e={};let t=!0;return h.forEach(s=>{const a=u(s,b[s.name]||"");a&&(e[s.name]=a,t=!1)}),w(e),t},[h,b]),L=e=>{y(t=>(0,a.A)((0,a.A)({},t),{},{[e.name]:!0}));const t=u(e,b[e.name]||"");w(s=>(0,a.A)((0,a.A)({},s),{},{[e.name]:t}))},A=e=>{const{name:t,value:s,type:r,checked:n}=e.target,l="checkbox"===r?n:s;if(f(e=>(0,a.A)((0,a.A)({},e),{},{[t]:l})),v[t]&&j[t]){const e=u(h.find(e=>e.name===t)||{},l);w(s=>(0,a.A)((0,a.A)({},s),{},{[t]:e}))}};return(0,c.jsx)(l.N,{children:t&&(0,c.jsx)(i.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:s,children:(0,c.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:x}),(0,c.jsx)("div",{className:"space-y-4",children:h.map(e=>{const t=v[e.name]&&j[e.name],s=b[e.name]||"";return(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),e.helpText&&(0,c.jsx)("span",{className:"text-xs text-gray-500",children:e.helpText})]}),"textarea"===e.type?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:s,onChange:A,onBlur:()=>L(e),disabled:e.disabled||!1,rows:e.rows||3,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 pr-10"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}):"select"===e.type?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("select",{id:e.name,name:e.name,value:s,onChange:A,onBlur:()=>L(e),disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 pr-10 appearance-none"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error"),children:[!s&&(0,c.jsx)("option",{value:"",children:e.placeholder||"Select an option"}),e.options&&e.options.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),(0,c.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,c.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}):"checkbox"===e.type?(0,c.jsxs)("div",{className:"relative flex items-start",children:[(0,c.jsx)("div",{className:"flex items-center h-5",children:(0,c.jsx)("input",{id:e.name,name:e.name,type:"checkbox",checked:!!s,onChange:A,onBlur:()=>L(e),disabled:e.disabled||!1,className:"h-4 w-4 rounded ".concat(t?"text-red-600 border-red-300 focus:ring-red-500":"text-blue-600 border-gray-300 focus:ring-blue-500"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")})}),(0,c.jsxs)("div",{className:"ml-3 text-sm",children:[(0,c.jsxs)("label",{htmlFor:e.name,className:"font-medium text-gray-700",children:[e.checkboxLabel||e.label,e.required&&(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),e.checkboxDescription&&(0,c.jsx)("p",{className:"text-gray-500",children:e.checkboxDescription})]})]}):(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:s,onChange:A,onBlur:()=>L(e),disabled:e.disabled||!1,min:e.min,max:e.max,step:e.step,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 ").concat("number"===e.type?"pr-12":"pr-10"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),"number"===e.type&&e.unit&&!t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)("span",{className:"text-gray-500 text-sm",children:e.unit})})]}),t&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"".concat(e.name,"-error"),children:j[e.name]})]},e.name)})}),(0,c.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,c.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:"Cancel"}),(0,c.jsx)("button",{type:"button",onClick:async()=>{const e=h.reduce((e,t)=>(e[t.name]=!0,e),{});y(e);if(C()){k(!0);try{m?await m(b):g.addTimetableEntry&&await g.addTimetableEntry(b),s()}catch(t){console.error("Error saving form:",t),g.showNotification&&g.showNotification(t.message||"Failed to save. Please try again.","error")}finally{k(!1)}}else g.showNotification&&g.showNotification("Please fix the errors in the form","error")},disabled:N||Object.keys(j).length>0,className:"px-4 py-2 font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-300 ".concat(N||Object.keys(j).length>0?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500"),children:N?(0,c.jsxs)("span",{className:"flex items-center",children:[(0,c.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save"})]})]})})})}},867:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(986),r=s(43);const n=["title","titleId"];function l(e,t){let{title:s,titleId:l}=e,i=(0,a.A)(e,n);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?r.createElement("title",{id:l},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const i=r.forwardRef(l)}}]);
//# sourceMappingURL=244.98a52727.chunk.js.map