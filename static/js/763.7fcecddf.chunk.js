"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[763],{59:(e,t,s)=>{s.d(t,{A:()=>n});s(43);var a=s(487),r=s(579);const n=e=>{let{title:t="No items found",description:s="There are no items to display at the moment.",icon:n,action:i,className:l=""}=e;return(0,r.jsxs)(a.P.div,{className:"flex flex-col items-center justify-center p-8 text-center ".concat(l),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[n&&(0,r.jsx)("div",{className:"mb-4 text-gray-400",children:n}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),(0,r.jsx)("p",{className:"text-gray-500 mb-6 max-w-md",children:s}),i&&(0,r.jsx)("div",{className:"mt-2",children:i})]})}},377:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(555),r=s(43),n=s(277),i=s(546),l=s(487),o=s(867),c=s(579);const d={},u=(e,t)=>{if(e.required&&!t)return"".concat(e.label," is required");if(t){if("email"===e.type&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Please enter a valid email address";if("url"===e.type&&!/^https?:\/\//.test(t))return"Please enter a valid URL starting with http:// or https://";if("number"===e.type){const s=Number(t);if(isNaN(s))return"Please enter a valid number";if(void 0!==e.min&&s<e.min)return"Must be at least ".concat(e.min);if(void 0!==e.max&&s>e.max)return"Cannot exceed ".concat(e.max)}if(e.minLength&&t.length<e.minLength)return"Must be at least ".concat(e.minLength," characters");if(e.maxLength&&t.length>e.maxLength)return"Cannot exceed ".concat(e.maxLength," characters");if(e.validate&&"function"===typeof e.validate){const s=e.validate(t,e);if(s)return s}}return""},m=e=>{let{isOpen:t,onClose:s,onSave:m,title:x,fields:h,initialState:b=d}=e;const g=(0,n.j)(),[p,f]=(0,r.useState)({}),[j,y]=(0,r.useState)({}),[v,w]=(0,r.useState)({}),[N,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){const e=h.reduce((e,t)=>{var s,a;return e[t.name]=null!==(s=null!==(a=b[t.name])&&void 0!==a?a:t.defaultValue)&&void 0!==s?s:"",e},{});f(e),y({}),w({})}else f({}),y({}),w({})},[t,h,b]);const C=(0,r.useCallback)(()=>{const e={};let t=!0;return h.forEach(s=>{const a=u(s,p[s.name]||"");a&&(e[s.name]=a,t=!1)}),w(e),t},[h,p]),A=e=>{y(t=>(0,a.A)((0,a.A)({},t),{},{[e.name]:!0}));const t=u(e,p[e.name]||"");w(s=>(0,a.A)((0,a.A)({},s),{},{[e.name]:t}))},S=e=>{const{name:t,value:s,type:r,checked:n}=e.target,i="checkbox"===r?n:s;if(f(e=>(0,a.A)((0,a.A)({},e),{},{[t]:i})),j[t]&&v[t]){const e=u(h.find(e=>e.name===t)||{},i);w(s=>(0,a.A)((0,a.A)({},s),{},{[t]:e}))}};return(0,c.jsx)(i.N,{children:t&&(0,c.jsx)(l.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:s,children:(0,c.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:x}),(0,c.jsx)("div",{className:"space-y-4",children:h.map(e=>{const t=j[e.name]&&v[e.name],s=p[e.name]||"";return(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),e.helpText&&(0,c.jsx)("span",{className:"text-xs text-gray-500",children:e.helpText})]}),"textarea"===e.type?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:s,onChange:S,onBlur:()=>A(e),disabled:e.disabled||!1,rows:e.rows||3,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 pr-10"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}):"select"===e.type?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("select",{id:e.name,name:e.name,value:s,onChange:S,onBlur:()=>A(e),disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 pr-10 appearance-none"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error"),children:[!s&&(0,c.jsx)("option",{value:"",children:e.placeholder||"Select an option"}),e.options&&e.options.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))]}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),(0,c.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,c.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}):"checkbox"===e.type?(0,c.jsxs)("div",{className:"relative flex items-start",children:[(0,c.jsx)("div",{className:"flex items-center h-5",children:(0,c.jsx)("input",{id:e.name,name:e.name,type:"checkbox",checked:!!s,onChange:S,onBlur:()=>A(e),disabled:e.disabled||!1,className:"h-4 w-4 rounded ".concat(t?"text-red-600 border-red-300 focus:ring-red-500":"text-blue-600 border-gray-300 focus:ring-blue-500"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")})}),(0,c.jsxs)("div",{className:"ml-3 text-sm",children:[(0,c.jsxs)("label",{htmlFor:e.name,className:"font-medium text-gray-700",children:[e.checkboxLabel||e.label,e.required&&(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),e.checkboxDescription&&(0,c.jsx)("p",{className:"text-gray-500",children:e.checkboxDescription})]})]}):(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:s,onChange:S,onBlur:()=>A(e),disabled:e.disabled||!1,min:e.min,max:e.max,step:e.step,className:"w-full px-4 py-2 rounded-lg border ".concat(t?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"," bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 ").concat("number"===e.type?"pr-12":"pr-10"),"aria-invalid":t?"true":"false","aria-describedby":"".concat(e.name,"-error")}),t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),"number"===e.type&&e.unit&&!t&&(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,c.jsx)("span",{className:"text-gray-500 text-sm",children:e.unit})})]}),t&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"".concat(e.name,"-error"),children:v[e.name]})]},e.name)})}),(0,c.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,c.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:"Cancel"}),(0,c.jsx)("button",{type:"button",onClick:async()=>{const e=h.reduce((e,t)=>(e[t.name]=!0,e),{});y(e);if(C()){k(!0);try{m?await m(p):g.addTimetableEntry&&await g.addTimetableEntry(p),s()}catch(t){console.error("Error saving form:",t),g.showNotification&&g.showNotification(t.message||"Failed to save. Please try again.","error")}finally{k(!1)}}else g.showNotification&&g.showNotification("Please fix the errors in the form","error")},disabled:N||Object.keys(v).length>0,className:"px-4 py-2 font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-300 ".concat(N||Object.keys(v).length>0?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500"),children:N?(0,c.jsxs)("span",{className:"flex items-center",children:[(0,c.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save"})]})]})})})}},763:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(555),r=s(43),n=s(659),i=s(579);const l=r.memo(e=>{let{subjectName:t,tests:s,onDeleteSubject:a,onDeleteTest:r,isExpanded:n,onToggleExpand:l}=e;return(0,i.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>l(t),children:[(0,i.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:t}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),a(t)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 mr-2","aria-label":"Delete subject",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M3 6h18"}),(0,i.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,i.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 transform transition-transform duration-200 ".concat(n?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n&&(0,i.jsx)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:0===s.length?(0,i.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No tests in this subject."}):s.map(e=>(0,i.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-gray-200 text-sm",children:[(0,i.jsxs)("span",{children:[e.title," (",e.mcqs," MCQs, ",e.date,")"]}),(0,i.jsx)("button",{onClick:s=>{s.stopPropagation(),r(t,e.title)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 ml-2","aria-label":"Delete test",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M3 6h18"}),(0,i.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,i.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]},e.title))})]})});var o=s(277),c=s(377),d=s(59);const u=r.memo(e=>{let{onBackToProfile:t,showNotification:s}=e;const{testData:u}=(0,n.O)(),m=(0,o.j)(),[x,h]=(0,r.useState)({}),[b,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)({title:"",fields:[],onSave:()=>{}}),j=(0,r.useMemo)(()=>Object.keys(u),[u]),y=(0,r.useCallback)(e=>{h(t=>(0,a.A)((0,a.A)({},t),{},{[e]:!t[e]}))},[]),v=r.useCallback(e=>{m.deleteSubject(e)},[m]),w=r.useCallback((e,t)=>{m.deleteTest(e,t)},[m]),N=(0,r.useCallback)(e=>{m.addSubject(e.subjectName),h(t=>(0,a.A)((0,a.A)({},t),{},{[e.subjectName]:!0}))},[m]),k=(0,r.useCallback)(e=>{m.addTest(e.subject,e.title,e.mcqs,e.date,e.link),h(t=>(0,a.A)((0,a.A)({},t),{},{[e.subject]:!0}))},[m]),C=(0,r.useCallback)(()=>{f({title:"Add New Subject",fields:[{name:"subjectName",label:"Subject Name",placeholder:"e.g., Biochemistry",required:!0}],onSave:N}),g(!0)},[N]),A=(0,r.useCallback)(()=>{f({title:"Add New Test",fields:[{name:"subject",label:"Select Subject",type:"select",required:!0,options:j.map(e=>({value:e,label:e})),defaultValue:j[0]||""},{name:"title",label:"Test Title",placeholder:"e.g., Final Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 50",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],onSave:k}),g(!0)},[k,j]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:"page-manage-tests",className:"page px-6 py-8",children:[(0,i.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Content"}),(0,i.jsx)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Done"})]}),(0,i.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,i.jsxs)("button",{onClick:C,className:"w-full bg-green-50 text-green-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-100 transition duration-300",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,i.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Subject"]}),(0,i.jsxs)("button",{onClick:A,className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300",disabled:0===j.length,children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,i.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test"]})]}),(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Existing Content"}),(0,i.jsx)("div",{id:"manage-content-list",className:"space-y-4",children:0===j.length?(0,i.jsx)(d.A,{title:"No subjects found",description:"You haven't added any subjects yet. Create your first subject to start organizing your study materials.",icon:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300",children:[(0,i.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,i.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),(0,i.jsx)("path",{d:"M10 10h4"}),(0,i.jsx)("path",{d:"M12 8v4"})]}),action:(0,i.jsxs)("button",{onClick:C,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Your First Subject"]})}):j.map(e=>(0,i.jsx)(l,{subjectName:e,tests:u[e],onDeleteSubject:v,onDeleteTest:w,isExpanded:x[e],onToggleExpand:y},e))})]}),(0,i.jsx)(c.A,{isOpen:b,onClose:()=>g(!1),onSave:p.onSave,title:p.title,fields:p.fields,showNotification:s})]})})},867:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(986),r=s(43);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,a.A)(e,n);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const l=r.forwardRef(i)}}]);
//# sourceMappingURL=763.7fcecddf.chunk.js.map