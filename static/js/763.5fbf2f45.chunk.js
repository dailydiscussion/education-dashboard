"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[763],{377:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(555),n=s(43),a=s(277),r=s(546),o=s(487),i=s(579);const d={},c=e=>{let{isOpen:t,onClose:s,onSave:c,title:u,fields:x,initialState:m=d}=e;const b=(0,a.j)(),[h,g]=(0,n.useState)({});(0,n.useEffect)(()=>{if(t){const e=x.reduce((e,t)=>(e[t.name]=m[t.name]||t.defaultValue||"",e),{});g(e)}else g({})},[t,x,m]);const p=e=>{const{name:t,value:s}=e.target;g(e=>(0,l.A)((0,l.A)({},e),{},{[t]:s}))};return(0,i.jsx)(r.N,{children:t&&(0,i.jsx)(o.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:s,children:(0,i.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:u}),(0,i.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),"textarea"===e.type?(0,i.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:h[e.name]||"",onChange:p,disabled:e.disabled||!1,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"}):"select"===e.type?(0,i.jsx)("select",{id:e.name,name:e.name,value:h[e.name]||"",onChange:p,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200",children:e.options&&e.options.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,i.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:h[e.name]||"",onChange:p,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"})]},e.name))}),(0,i.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,i.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition duration-300",children:"Cancel"}),(0,i.jsx)("button",{onClick:()=>{for(const e of x)if(e.required&&!h[e.name])return void(b.showNotification?b.showNotification("".concat(e.label," is required."),"error"):console.error("".concat(e.label," is required.")));c?c(h):b.addTimetableEntry&&b.addTimetableEntry(h),s()},className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"Save"})]})]})})})}},763:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(555),n=s(43),a=s(659),r=s(579);const o=n.memo(e=>{let{subjectName:t,tests:s,onDeleteSubject:l,onDeleteTest:n,isExpanded:a,onToggleExpand:o}=e;return(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>o(t),children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:t}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),l(t)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 mr-2","aria-label":"Delete subject",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M3 6h18"}),(0,r.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,r.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,r.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,r.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 transform transition-transform duration-200 ".concat(a?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),a&&(0,r.jsx)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:0===s.length?(0,r.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No tests in this subject."}):s.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-gray-200 text-sm",children:[(0,r.jsxs)("span",{children:[e.title," (",e.mcqs," MCQs, ",e.date,")"]}),(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),n(t,e.title)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 ml-2","aria-label":"Delete test",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M3 6h18"}),(0,r.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,r.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,r.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,r.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]},e.title))})]})});var i=s(277),d=s(377);const c=n.memo(e=>{let{onBackToProfile:t,showNotification:s}=e;const{testData:c}=(0,a.O)(),u=(0,i.j)(),[x,m]=(0,n.useState)({}),[b,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)({title:"",fields:[],onSave:()=>{}}),j=(0,n.useMemo)(()=>Object.keys(c),[c]),f=(0,n.useCallback)(e=>{m(t=>(0,l.A)((0,l.A)({},t),{},{[e]:!t[e]}))},[]),y=n.useCallback(e=>{u.deleteSubject(e)},[u]),v=n.useCallback((e,t)=>{u.deleteTest(e,t)},[u]),w=(0,n.useCallback)(e=>{u.addSubject(e.subjectName),m(t=>(0,l.A)((0,l.A)({},t),{},{[e.subjectName]:!0}))},[u]),N=(0,n.useCallback)(e=>{u.addTest(e.subject,e.title,e.mcqs,e.date,e.link),m(t=>(0,l.A)((0,l.A)({},t),{},{[e.subject]:!0}))},[u]),k=(0,n.useCallback)(()=>{p({title:"Add New Subject",fields:[{name:"subjectName",label:"Subject Name",placeholder:"e.g., Biochemistry",required:!0}],onSave:w}),h(!0)},[w]),C=(0,n.useCallback)(()=>{p({title:"Add New Test",fields:[{name:"subject",label:"Select Subject",type:"select",required:!0,options:j.map(e=>({value:e,label:e})),defaultValue:j[0]||""},{name:"title",label:"Test Title",placeholder:"e.g., Final Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 50",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],onSave:N}),h(!0)},[N,j]),S=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 mb-4 text-gray-300",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No subjects added yet"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Start by adding your first subject to organize your tests."}),(0,r.jsx)("button",{onClick:k,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Subject"})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"page-manage-tests",className:"page px-6 py-8",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Content"}),(0,r.jsx)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Done"})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("button",{onClick:k,className:"w-full bg-green-50 text-green-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-100 transition duration-300",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Subject"]}),(0,r.jsxs)("button",{onClick:C,className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300",disabled:0===j.length,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test"]})]}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Existing Content"}),(0,r.jsx)("div",{id:"manage-content-list",className:"space-y-4",children:j.length>0?j.map(e=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(o,{subjectName:e,tests:c[e],onDeleteSubject:y,onDeleteTest:v,isExpanded:x[e],onToggleExpand:f}),x[e]&&0===c[e].length&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,r.jsx)("p",{className:"text-gray-500",children:"No tests in this subject yet."}),(0,r.jsx)("button",{onClick:C,className:"mt-2 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Add your first test"})]})]},e)):(0,r.jsx)(S,{})})]}),(0,r.jsx)(d.A,{isOpen:b,onClose:()=>h(!1),onSave:g.onSave,title:g.title,fields:g.fields,showNotification:s})]})})}}]);
//# sourceMappingURL=763.5fbf2f45.chunk.js.map