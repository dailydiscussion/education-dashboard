{"version":3,"file":"static/js/133.bd10110a.chunk.js","mappings":"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","sources":["pages/ProfilePage.js"],"sourcesContent":["// src/pages/ProfilePage.js\nimport React, { useState } from 'react';\nimport profileAdminImg from '../assets/profile-admin.jpg';\n// Import the actual functions from appFunctions\nimport { handleExportData, handleImportData } from '../utils/appFunctions'; // Correct import\n\nconst ProfilePage = React.memo(\n  ({\n    testData: _testData,\n    todayFocusItems: _todayFocusItems,\n    timetableEntries: _timetableEntries,\n    onManageContent,\n    onLogout,\n    currentUserId,\n    userName: _userName,\n    userEmail,\n    showNotification,\n    onResetLocalData: _onResetLocalData,\n  }) => {\n    const [showImportConfirmation, setShowImportConfirmation] = useState(false);\n    const [importFileData, setImportFileData] = useState(null);\n\n    const handleFileChange = React.useCallback(\n      (event) => {\n        const file = event.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            try {\n              const parsedData = JSON.parse(e.target.result);\n              // Basic validation: Check for expected top-level keys\n              if (parsedData.subjects && parsedData.todayFocus && parsedData.timetable) {\n                setImportFileData(parsedData);\n                setShowImportConfirmation(true);\n              } else {\n                showNotification(\n                  'Invalid file format. Please upload a valid exported data file.',\n                  'error'\n                );\n              }\n            } catch (error) {\n              showNotification(\n                \"Failed to parse JSON file. Please ensure it's a valid JSON.\",\n                'error'\n              );\n              console.error('Error parsing import file:', error);\n            }\n          };\n          reader.readAsText(file);\n        }\n      },\n      [showNotification]\n    );\n\n    const confirmImport = React.useCallback(async () => {\n      setShowImportConfirmation(false);\n      if (importFileData) {\n        // Call the handleImportData function from appFunctions, passing necessary props\n        await handleImportData(currentUserId, showNotification, importFileData);\n        setImportFileData(null);\n        // Clear the file input after import attempt\n        document.getElementById('importFileInput').value = '';\n      }\n    }, [currentUserId, showNotification, importFileData]);\n\n    const cancelImport = React.useCallback(() => {\n      setShowImportConfirmation(false);\n      setImportFileData(null);\n      // Clear the file input if the user cancels\n      document.getElementById('importFileInput').value = '';\n    }, []);\n\n    const memoizedOnManageContent = React.useCallback(() => {\n      if (onManageContent) onManageContent();\n    }, [onManageContent]);\n\n    const memoizedOnLogout = React.useCallback(() => {\n      if (onLogout) onLogout();\n    }, [onLogout]);\n\n    const memoizedShowNotification = React.useCallback(\n      (msg, type) => {\n        if (showNotification) showNotification(msg, type);\n      },\n      [showNotification]\n    );\n\n    return (\n      <div id=\"page-profile\" className=\"page px-6 py-8\">\n        <header className=\"mb-6\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">My Profile</h1>\n          <p className=\"text-gray-500 mt-2\">Manage your account and app settings.</p>\n        </header>\n\n        <div className=\"bg-gray-100 p-6 rounded-lg mb-6\">\n          <div className=\"flex items-center space-x-4 relative\">\n            <div className=\"relative\">\n              <img\n                src={profileAdminImg}\n                alt=\"User Avatar\"\n                className=\"w-16 h-16 rounded-full border-2 border-white shadow\"\n              />\n              {/* Checkmark badge */}\n              <span className=\"absolute bottom-0 right-0 bg-green-500 rounded-full p-1 border-2 border-white\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-4 w-4 text-white\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"3\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </span>\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-gray-800\">Nikhil Kumar</h2>\n              <p className=\"text-gray-600 text-sm\">{userEmail || 'No Email'}</p>\n              <p className=\"text-xs text-gray-500 break-all\">Admin</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">Settings</h3>\n          <div className=\"space-y-3\">\n            <button\n              onClick={memoizedOnManageContent}\n              className=\"w-full bg-blue-50 text-blue-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-blue-100 transition duration-200\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"22\"\n                height=\"22\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                className=\"mr-2\"\n              >\n                <circle cx=\"12\" cy=\"12\" r=\"3\" />\n                <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09A1.65 1.65 0 0 0 9 3.09V3a2 2 0 0 1 4 0v.09c.3.14.56.36.74.65.18.29.26.62.26.96v.09a1.65 1.65 0 0 0 1 1.51h.09c.3-.14.62-.22.96-.26.29-.18.51-.44.65-.74V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1.51 1h.09a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1 1.51v.09c.14.3.36.56.65.74.29.18.62.26.96.26h.09a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z\" />\n              </svg>\n              Manage Subjects & Tests\n            </button>\n            <button\n              onClick={() => handleExportData(currentUserId, memoizedShowNotification)}\n              className=\"w-full bg-green-50 text-green-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-green-100 transition duration-200\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"22\"\n                height=\"22\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                className=\"mr-2\"\n              >\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                <polyline points=\"7 10 12 15 17 10\"></polyline>\n                <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n              </svg>\n              Export All Data\n            </button>\n            <label className=\"w-full bg-purple-50 text-purple-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-purple-100 transition duration-200 cursor-pointer\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"22\"\n                height=\"22\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                className=\"mr-2\"\n              >\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                <polyline points=\"17 8 12 3 7 8\"></polyline>\n                <line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"></line>\n              </svg>\n              Import Data\n              <input\n                type=\"file\"\n                accept=\".json\"\n                onChange={handleFileChange}\n                className=\"hidden\"\n                id=\"importFileInput\"\n              />\n            </label>\n          </div>\n        </div>\n\n        <div className=\"mt-auto pt-6 border-t border-gray-200\">\n          <button\n            onClick={memoizedOnLogout}\n            className=\"w-full bg-red-100 text-red-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-red-200 transition duration-300\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"20\"\n              height=\"20\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"mr-2\"\n            >\n              <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n              <polyline points=\"17 16 22 12 17 8\"></polyline>\n              <line x1=\"22\" y1=\"12\" x2=\"10\" y2=\"12\"></line>\n            </svg>\n            Logout\n          </button>\n        </div>\n\n        {/* Import Confirmation Modal */}\n        {showImportConfirmation && (\n          <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-auto\">\n              <h3 className=\"text-lg font-bold mb-4\">Confirm Data Import</h3>\n              <p className=\"text-gray-700 mb-6\">\n                Importing this data will overwrite your existing subjects, tests, focus items, and\n                timetable entries. Are you sure you want to proceed?\n              </p>\n              <div className=\"flex justify-end space-x-4\">\n                <button\n                  onClick={cancelImport}\n                  className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={confirmImport}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition duration-200\"\n                >\n                  Import Data\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nexport default ProfilePage;\n"],"names":["React","_ref","testData","_testData","todayFocusItems","_todayFocusItems","timetableEntries","_timetableEntries","onManageContent","onLogout","currentUserId","userName","_userName","userEmail","showNotification","onResetLocalData","_onResetLocalData","showImportConfirmation","setShowImportConfirmation","useState","importFileData","setImportFileData","handleFileChange","event","file","target","files","reader","FileReader","onload","e","parsedData","JSON","parse","result","subjects","todayFocus","timetable","error","console","readAsText","confirmImport","async","handleImportData","document","getElementById","value","cancelImport","memoizedOnManageContent","memoizedOnLogout","memoizedShowNotification","msg","type","_jsxs","id","className","children","_jsx","src","profileAdminImg","alt","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","onClick","width","height","cx","cy","r","handleExportData","points","x1","y1","x2","y2","accept","onChange"],"sourceRoot":""}