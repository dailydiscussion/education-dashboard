"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[244],{244:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var l=s(43),n=s(579);const o=l.memo(e=>{let{test:t,subject:s,isEditMode:l,onDelete:o,handleToggleTestCompletion:a}=e;const r=t.link&&!l?"cursor-pointer hover:shadow-md hover:-translate-y-1":"",i="".concat("relative p-4 rounded-lg flex justify-between items-center transition-all duration-300 shadow-sm"," ").concat(t.completed?"bg-green-50":"bg-white border border-gray-200"," ").concat(r);return(0,n.jsxs)("div",{id:"trophy-test-item-".concat(s,"-").concat(t.title),className:i,onClick:()=>{!l&&t.link&&t.link.startsWith("http")?window.open(t.link,"_blank"):t.link&&console.warn("Invalid link for ".concat(t.title,": ").concat(t.link,". Must start with http:// or https://"))},children:[(0,n.jsxs)("div",{className:"flex items-center flex-grow min-w-0",children:[(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),a(s,t.title,!t.completed)},className:"flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200 ".concat(t.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-400"," mr-4"),"aria-label":t.completed?"Mark as incomplete":"Mark as complete",children:t.completed&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("h4",{className:"font-semibold truncate ".concat(t.completed?"text-gray-800":"text-orange-600"),children:t.title})}),(0,n.jsxs)("p",{className:"text-sm mt-1 ".concat((t.completed,"text-gray-600")),children:[t.mcqs," MCQs"]}),(0,n.jsxs)("p",{className:"text-xs mt-1 ".concat(t.completed?"text-green-600":"text-gray-600"),children:["Added on ",t.date]})]})]}),(0,n.jsx)("div",{className:"flex-shrink-0 ml-2",children:l?(0,n.jsx)("button",{className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-100 transition-colors duration-200",onClick:e=>{e.stopPropagation(),o(s,t.title)},"aria-label":"Delete test",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M3 6h18"}),(0,n.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,n.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,n.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,n.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):t.link&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:(0,n.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})});var a=s(377);const r=l.memo(e=>{let{testData:t,currentSelectedSubject:s,setCurrentSelectedSubject:r,addTest:i,deleteTest:c,handleToggleTestCompletion:d,showNotification:u}=e;const[x,m]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)(""),f=(0,l.useMemo)(()=>Object.keys(t),[t]);(0,l.useEffect)(()=>{!(f.length>0)||s&&f.includes(s)?0===f.length&&""!==s&&r(""):r(f[0])},[f,s,r]);const j=s&&t[s]?t[s].filter(e=>e.title.toLowerCase().includes(p.toLowerCase())):[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{id:"page-trophy",className:"page px-6 py-8",children:[(0,n.jsxs)("header",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tests"}),(0,n.jsxs)("button",{onClick:()=>m(!x),className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center","aria-label":x?"Done editing tests":"Edit tests",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[(0,n.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,n.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),x?"Done":"Edit"]})]}),(0,n.jsx)("p",{className:"text-gray-500 mb-6",children:"Completed Tests & Progress"}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("input",{type:"text",placeholder:"Search tests...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",value:p,onChange:e=>b(e.target.value),"aria-label":"Search tests"})}),(0,n.jsx)("div",{className:"flex space-x-3 mb-6 overflow-x-auto no-scrollbar",id:"subject-filters-container",children:f.map(e=>{var l,o;return(0,n.jsxs)("button",{className:"subject-filter flex-shrink-0 text-left p-3 rounded-lg transition-colors duration-200 shadow-sm\n                                ".concat(s===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:()=>r(e),children:[(0,n.jsx)("p",{className:"font-bold",children:e}),(0,n.jsxs)("p",{className:"text-sm ".concat(s===e?"opacity-80":"text-gray-500"),children:[(null===(l=t[e])||void 0===l?void 0:l.length)||0," Test",1===(null===(o=t[e])||void 0===o?void 0:o.length)?"":"s"]})]},e)})}),(0,n.jsxs)("button",{onClick:()=>{g(!0)},className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300 mb-6",disabled:!s,children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test to ".concat(s||"...")]}),(0,n.jsx)("div",{id:"test-list-container",className:"space-y-3",children:0===j.length?(0,n.jsxs)("p",{className:"text-gray-500 text-center py-4",children:["No tests available for ",s,"."]}):j.map(e=>(0,n.jsx)(o,{test:e,subject:s,isEditMode:x,onDelete:c,handleToggleTestCompletion:d},e.title))})]}),(0,n.jsx)(a.A,{isOpen:h,onClose:()=>g(!1),onSave:e=>{i(s,e.title,e.mcqs,e.date,e.link)},title:"Add New Test to ".concat(s),fields:[{name:"title",label:"Test Title",placeholder:"e.g., Mid-term Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 40",required:!0},{name:"date",label:"Completion Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],showNotification:u})]})})},377:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(555),n=s(43),o=s(579);const a={},r=e=>{let{isOpen:t,onClose:s,onSave:r,title:i,fields:c,initialState:d=a,showNotification:u}=e;const[x,m]=(0,n.useState)({});(0,n.useEffect)(()=>{if(t){const e=c.reduce((e,t)=>(e[t.name]=d[t.name]||t.defaultValue||"",e),{});m(e)}else m({})},[t,c,d]);const h=e=>{const{name:t,value:s}=e.target;m(e=>(0,l.A)((0,l.A)({},e),{},{[t]:s}))};return t?(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative transform transition-all scale-100 opacity-100",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:i}),(0,o.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),"textarea"===e.type?(0,o.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:x[e.name]||"",onChange:h,disabled:e.disabled||!1,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"}):"select"===e.type?(0,o.jsx)("select",{id:e.name,name:e.name,value:x[e.name]||"",onChange:h,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200",children:e.options&&e.options.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,o.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:x[e.name]||"",onChange:h,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"})]},e.name))}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition duration-300",children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>{for(const e of c)if(e.required&&!x[e.name])return void(u?u("".concat(e.label," is required."),"error"):console.error("".concat(e.label," is required.")));r(x),s()},className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"Save"})]})]})}):null}}}]);
//# sourceMappingURL=244.7c68bcda.chunk.js.map