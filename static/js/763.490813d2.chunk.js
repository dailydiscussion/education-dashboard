"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[763],{377:(e,t,s)=>{s.d(t,{A:()=>d});var l=s(5043),n=s(1277),a=s(3546),r=s(5487),o=s(579);const i={},d=e=>{let{isOpen:t,onClose:s,onSave:d,title:c,fields:u,initialState:x=i}=e;const m=(0,n.j)(),[b,h]=(0,l.useState)({});(0,l.useEffect)(()=>{if(t){const e=u.reduce((e,t)=>(e[t.name]=x[t.name]||t.defaultValue||"",e),{});h(e)}else h({})},[t,u,x]);const g=e=>{const{name:t,value:s}=e.target;h(e=>({...e,[t]:s}))};return(0,o.jsx)(a.N,{children:t&&(0,o.jsx)(r.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:s,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:c}),(0,o.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),"textarea"===e.type?(0,o.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:b[e.name]||"",onChange:g,disabled:e.disabled||!1,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"}):"select"===e.type?(0,o.jsx)("select",{id:e.name,name:e.name,value:b[e.name]||"",onChange:g,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200",children:e.options&&e.options.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,o.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:b[e.name]||"",onChange:g,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"})]},e.name))}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition duration-300",children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>{for(const e of u)if(e.required&&!b[e.name])return void(m.showNotification?m.showNotification(`${e.label} is required.`,"error"):console.error(`${e.label} is required.`));d?d(b):m.addTimetableEntry&&m.addTimetableEntry(b),s()},className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"Save"})]})]})})})}},4763:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var l=s(5043),n=s(6659),a=s(579);const r=l.memo(e=>{let{subjectName:t,tests:s,onDeleteSubject:l,onDeleteTest:n,isExpanded:r,onToggleExpand:o}=e;return(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>o(t),children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:t}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),l(t)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 mr-2","aria-label":"Delete subject",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 6h18"}),(0,a.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,a.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,a.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,a.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 transform transition-transform duration-200 "+(r?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),r&&(0,a.jsx)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:0===s.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No tests in this subject."}):s.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-gray-200 text-sm",children:[(0,a.jsxs)("span",{children:[e.title," (",e.mcqs," MCQs, ",e.date,")"]}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),n(t,e.title)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 ml-2","aria-label":"Delete test",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 6h18"}),(0,a.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,a.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,a.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,a.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]},e.title))})]})});var o=s(1277),i=s(377);const d=l.memo(e=>{let{onBackToProfile:t,showNotification:s}=e;const{testData:d}=(0,n.O)(),c=(0,o.j)(),[u,x]=(0,l.useState)({}),[m,b]=(0,l.useState)(!1),[h,g]=(0,l.useState)({title:"",fields:[],onSave:()=>{}}),p=(0,l.useMemo)(()=>Object.keys(d),[d]),j=(0,l.useCallback)(e=>{x(t=>({...t,[e]:!t[e]}))},[]),f=l.useCallback(e=>{c.deleteSubject(e)},[c]),y=l.useCallback((e,t)=>{c.deleteTest(e,t)},[c]),v=(0,l.useCallback)(e=>{c.addSubject(e.subjectName),x(t=>({...t,[e.subjectName]:!0}))},[c]),w=(0,l.useCallback)(e=>{c.addTest(e.subject,e.title,e.mcqs,e.date,e.link),x(t=>({...t,[e.subject]:!0}))},[c]),N=(0,l.useCallback)(()=>{g({title:"Add New Subject",fields:[{name:"subjectName",label:"Subject Name",placeholder:"e.g., Biochemistry",required:!0}],onSave:v}),b(!0)},[v]),k=(0,l.useCallback)(()=>{g({title:"Add New Test",fields:[{name:"subject",label:"Select Subject",type:"select",required:!0,options:p.map(e=>({value:e,label:e})),defaultValue:p[0]||""},{name:"title",label:"Test Title",placeholder:"e.g., Final Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 50",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],onSave:w}),b(!0)},[w,p]),C=()=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 mb-4 text-gray-300",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No subjects added yet"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Start by adding your first subject to organize your tests."}),(0,a.jsx)("button",{onClick:N,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Subject"})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"page-manage-tests",className:"page px-6 py-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Content"}),(0,a.jsx)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Done"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("button",{onClick:N,className:"w-full bg-green-50 text-green-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-100 transition duration-300",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Subject"]}),(0,a.jsxs)("button",{onClick:k,className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300",disabled:0===p.length,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test"]})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Existing Content"}),(0,a.jsx)("div",{id:"manage-content-list",className:"space-y-4",children:p.length>0?p.map(e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(r,{subjectName:e,tests:d[e],onDeleteSubject:f,onDeleteTest:y,isExpanded:u[e],onToggleExpand:j}),u[e]&&0===d[e].length&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"No tests in this subject yet."}),(0,a.jsx)("button",{onClick:k,className:"mt-2 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Add your first test"})]})]},e)):(0,a.jsx)(C,{})})]}),(0,a.jsx)(i.A,{isOpen:m,onClose:()=>b(!1),onSave:h.onSave,title:h.title,fields:h.fields,showNotification:s})]})})}}]);
//# sourceMappingURL=763.490813d2.chunk.js.map