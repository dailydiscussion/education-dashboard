"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[763],{377:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(555),n=s(43),a=s(579);const r={},o=e=>{let{isOpen:t,onClose:s,onSave:o,title:i,fields:d,initialState:c=r,showNotification:u}=e;const[x,m]=(0,n.useState)({});(0,n.useEffect)(()=>{if(t){const e=d.reduce((e,t)=>(e[t.name]=c[t.name]||t.defaultValue||"",e),{});m(e)}else m({})},[t,d,c]);const b=e=>{const{name:t,value:s}=e.target;m(e=>(0,l.A)((0,l.A)({},e),{},{[t]:s}))};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative transform transition-all scale-100 opacity-100",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:i}),(0,a.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),"textarea"===e.type?(0,a.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:x[e.name]||"",onChange:b,disabled:e.disabled||!1,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"}):"select"===e.type?(0,a.jsx)("select",{id:e.name,name:e.name,value:x[e.name]||"",onChange:b,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200",children:e.options&&e.options.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,a.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:x[e.name]||"",onChange:b,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"})]},e.name))}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition duration-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{for(const e of d)if(e.required&&!x[e.name])return void(u?u("".concat(e.label," is required."),"error"):console.error("".concat(e.label," is required.")));o(x),s()},className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"Save"})]})]})}):null}},763:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var l=s(555),n=s(43),a=s(579);const r=n.memo(e=>{let{subjectName:t,tests:s,onDeleteSubject:l,onDeleteTest:n,isExpanded:r,onToggleExpand:o}=e;return(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>o(t),children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:t}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),l(t)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 mr-2","aria-label":"Delete subject",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 6h18"}),(0,a.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,a.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,a.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,a.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 transform transition-transform duration-200 ".concat(r?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),r&&(0,a.jsx)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:0===s.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No tests in this subject."}):s.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-gray-200 text-sm",children:[(0,a.jsxs)("span",{children:[e.title," (",e.mcqs," MCQs, ",e.date,")"]}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),n(t,e.title)},className:"p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-colors duration-200 ml-2","aria-label":"Delete test",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 6h18"}),(0,a.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,a.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,a.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,a.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]},e.title))})]})});var o=s(377);const i=n.memo(e=>{let{testData:t,addSubject:s,addTest:i,deleteSubject:d,deleteTest:c,onBackToProfile:u,showNotification:x}=e;const[m,b]=(0,n.useState)({}),[g,h]=(0,n.useState)(!1),[p,j]=(0,n.useState)({title:"",fields:[],onSave:()=>{}}),f=(0,n.useMemo)(()=>Object.keys(t),[t]),y=(0,n.useCallback)(e=>{b(t=>(0,l.A)((0,l.A)({},t),{},{[e]:!t[e]}))},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"page-manage-tests",className:"page px-6 py-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Content"}),(0,a.jsx)("button",{onClick:u,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Done"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("button",{onClick:()=>{j({title:"Add New Subject",fields:[{name:"subjectName",label:"Subject Name",placeholder:"e.g., Biochemistry",required:!0}],onSave:e=>{s(e.subjectName),b(t=>(0,l.A)((0,l.A)({},t),{},{[e.subjectName]:!0}))}}),h(!0)},className:"w-full bg-green-50 text-green-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-100 transition duration-300",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Subject"]}),(0,a.jsxs)("button",{onClick:()=>{j({title:"Add New Test",fields:[{name:"subject",label:"Select Subject",type:"select",required:!0,options:f.map(e=>({value:e,label:e})),defaultValue:f[0]||""},{name:"title",label:"Test Title",placeholder:"e.g., Final Exam",required:!0},{name:"mcqs",label:"Number of MCQs",type:"number",placeholder:"e.g., 50",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"link",label:"Test Link (Optional)",type:"url",placeholder:"https://example.com/test"}],onSave:e=>{i(e.subject,e.title,e.mcqs,e.date,e.link),b(t=>(0,l.A)((0,l.A)({},t),{},{[e.subject]:!0}))}}),h(!0)},className:"w-full bg-blue-50 text-blue-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-blue-100 transition duration-300",disabled:0===f.length,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Test"]})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Existing Content"}),(0,a.jsx)("div",{id:"manage-content-list",className:"space-y-4",children:0===f.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No subjects available. Add a new subject to get started."}):f.map(e=>(0,a.jsx)(r,{subjectName:e,tests:t[e],onDeleteSubject:d,onDeleteTest:c,isExpanded:m[e],onToggleExpand:y},e))})]}),(0,a.jsx)(o.A,{isOpen:g,onClose:()=>h(!1),onSave:p.onSave,title:p.title,fields:p.fields,showNotification:x})]})})}}]);
//# sourceMappingURL=763.edb0016d.chunk.js.map