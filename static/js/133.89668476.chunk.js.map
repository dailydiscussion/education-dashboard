{"version":3,"file":"static/js/133.89668476.chunk.js","mappings":"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","sources":["pages/ProfilePage.js"],"sourcesContent":["// src/pages/ProfilePage.js\nimport React, { useState } from 'react';\n// Import the actual functions from appFunctions\nimport { handleExportData, handleImportData } from '../utils/appFunctions'; // Correct import\n\nconst ProfilePage = React.memo(({ testData, todayFocusItems, timetableEntries, onManageContent, onLogout, currentUserId, userName, userEmail, showNotification, onResetLocalData }) => {\n    const [showImportConfirmation, setShowImportConfirmation] = useState(false);\n    const [importFileData, setImportFileData] = useState(null);\n\n    const handleFileChange = React.useCallback((event) => {\n        const file = event.target.files[0];\n        if (file) {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                try {\n                    const parsedData = JSON.parse(e.target.result);\n                    // Basic validation: Check for expected top-level keys\n                    if (parsedData.subjects && parsedData.todayFocus && parsedData.timetable) {\n                        setImportFileData(parsedData);\n                        setShowImportConfirmation(true);\n                    } else {\n                        showNotification(\"Invalid file format. Please upload a valid exported data file.\", \"error\");\n                    }\n                } catch (error) {\n                    showNotification(\"Failed to parse JSON file. Please ensure it's a valid JSON.\", \"error\");\n                    console.error(\"Error parsing import file:\", error);\n                }\n            };\n            reader.readAsText(file);\n        }\n    }, [showNotification]);\n\n    const confirmImport = React.useCallback(async () => {\n        setShowImportConfirmation(false);\n        if (importFileData) {\n            // Call the handleImportData function from appFunctions, passing necessary props\n            await handleImportData(currentUserId, showNotification, importFileData);\n            setImportFileData(null);\n            // Clear the file input after import attempt\n            document.getElementById('importFileInput').value = '';\n        }\n    }, [currentUserId, showNotification, importFileData]);\n\n    const cancelImport = React.useCallback(() => {\n        setShowImportConfirmation(false);\n        setImportFileData(null);\n        // Clear the file input if the user cancels\n        document.getElementById('importFileInput').value = '';\n    }, []);\n\n\n\n    const memoizedOnManageContent = React.useCallback(() => {\n        if (onManageContent) onManageContent();\n    }, [onManageContent]);\n\n    const memoizedOnLogout = React.useCallback(() => {\n        if (onLogout) onLogout();\n    }, [onLogout]);\n\n    const memoizedShowNotification = React.useCallback((msg, type) => {\n        if (showNotification) showNotification(msg, type);\n    }, [showNotification]);\n\n\n\n    return (\n        <div id=\"page-profile\" className=\"page px-6 py-8\">\n            <header className=\"mb-6\">\n                <h1 className=\"text-3xl font-bold text-gray-900\">My Profile</h1>\n                <p className=\"text-gray-500 mt-2\">Manage your account and app settings.</p>\n            </header>\n\n            <div className=\"bg-gray-100 p-6 rounded-lg mb-6\">\n                <div className=\"flex items-center space-x-4 relative\">\n                    <div className=\"relative\">\n                        <img src=\"https://placehold.co/80x80/E2E8F0/4A5568?text=NK\" alt=\"User Avatar\" className=\"w-16 h-16 rounded-full border-2 border-white shadow\" />\n                        {/* Checkmark badge */}\n                        <span className=\"absolute bottom-0 right-0 bg-green-500 rounded-full p-1 border-2 border-white\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth=\"3\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                        </span>\n                    </div>\n                    <div>\n                        <h2 className=\"text-xl font-bold text-gray-800\">{userName || 'User'}</h2>\n                        <p className=\"text-gray-600 text-sm\">{userEmail || 'No Email'}</p>\n                        <p className=\"text-xs text-gray-500 break-all\">User ID: {currentUserId || 'N/A'}</p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">Settings</h3>\n                <div className=\"space-y-3\">\n                    <button onClick={memoizedOnManageContent} className=\"w-full bg-blue-50 text-blue-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-blue-100 transition duration-200\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\"><circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09A1.65 1.65 0 0 0 9 3.09V3a2 2 0 0 1 4 0v.09c.3.14.56.36.74.65.18.29.26.62.26.96v.09a1.65 1.65 0 0 0 1 1.51h.09c.3-.14.62-.22.96-.26.29-.18.51-.44.65-.74V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1.51 1h.09a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1 1.51v.09c.14.3.36.56.65.74.29.18.62.26.96.26h.09a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z\"/>\n                        </svg>\n                        Manage Subjects & Tests\n                    </button>\n                    <button\n                        onClick={() => handleExportData(currentUserId, memoizedShowNotification)}\n                        className=\"w-full bg-green-50 text-green-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-green-100 transition duration-200\"\n                    >\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path><polyline points=\"7 10 12 15 17 10\"></polyline><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line></svg>\n                        Export All Data\n                    </button>\n                    <label className=\"w-full bg-purple-50 text-purple-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-purple-100 transition duration-200 cursor-pointer\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path><polyline points=\"17 8 12 3 7 8\"></polyline><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"></line></svg>\n                        Import Data\n                        <input\n                            type=\"file\"\n                            accept=\".json\"\n                            onChange={handleFileChange}\n                            className=\"hidden\"\n                            id=\"importFileInput\"\n                        />\n                    </label>\n                </div>\n            </div>\n\n            <div className=\"mt-auto pt-6 border-t border-gray-200\">\n                <button onClick={memoizedOnLogout} className=\"w-full bg-red-100 text-red-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-red-200 transition duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path><polyline points=\"17 16 22 12 17 8\"></polyline><line x1=\"22\" y1=\"12\" x2=\"10\" y2=\"12\"></line></svg>\n                    Logout\n                </button>\n            </div>\n\n            {/* Import Confirmation Modal */}\n            {showImportConfirmation && (\n                <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50\">\n                    <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-auto\">\n                        <h3 className=\"text-lg font-bold mb-4\">Confirm Data Import</h3>\n                        <p className=\"text-gray-700 mb-6\">\n                            Importing this data will overwrite your existing subjects, tests, focus items, and timetable entries.\n                            Are you sure you want to proceed?\n                        </p>\n                        <div className=\"flex justify-end space-x-4\">\n                            <button\n                                onClick={cancelImport}\n                                className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-200\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={confirmImport}\n                                className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition duration-200\"\n                            >\n                                Import Data\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default ProfilePage;"],"names":["React","_ref","testData","todayFocusItems","timetableEntries","onManageContent","onLogout","currentUserId","userName","userEmail","showNotification","onResetLocalData","showImportConfirmation","setShowImportConfirmation","useState","importFileData","setImportFileData","handleFileChange","event","file","target","files","reader","FileReader","onload","e","parsedData","JSON","parse","result","subjects","todayFocus","timetable","error","console","readAsText","confirmImport","async","handleImportData","document","getElementById","value","cancelImport","memoizedOnManageContent","memoizedOnLogout","memoizedShowNotification","msg","type","_jsxs","id","className","children","_jsx","src","alt","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","onClick","width","height","cx","cy","r","handleExportData","points","x1","y1","x2","y2","accept","onChange"],"sourceRoot":""}