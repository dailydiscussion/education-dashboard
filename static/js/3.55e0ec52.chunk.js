"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[3],{3:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(555),n=a(43),l=a(277),r=a(487),i=a(579);const o=n.memo(e=>{let{event:t,nextEvent:a,isEditMode:s,onEdit:n,status:o}=e;const c=(0,l.j)();const d=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;if(e.checked)return{text:"Completed",colorClass:"text-green-600",dotClass:"bg-green-500"};const s=new Date("".concat(e.date,"T").concat(e.time)),n=new Date(s.getTime()+108e5),l=t?new Date("".concat(t.date,"T").concat(t.time)):null,r=function(e){const t=new Date(e);return t.getHours()<4&&t.setDate(t.getDate()-1),t.setHours(0,0,0,0),t}(s),i=new Date(r);return i.setDate(r.getDate()+1),i.setHours(4,0,0,0),a>i?{text:"Missed",colorClass:"text-red-600",dotClass:"bg-red-500"}:a<s?{text:"Upcoming",colorClass:"text-orange-600",dotClass:"bg-orange-400"}:a>=s&&a<n?{text:"Live",colorClass:"text-cyan-600",dotClass:"bg-cyan-500"}:a>=n&&(!l||a<l)||l&&a>=l?{text:"Missed",colorClass:"text-red-600",dotClass:"bg-red-500"}:{text:"Upcoming",colorClass:"text-orange-600",dotClass:"bg-orange-400"}};let u;if(o)switch(o){case"Completed":u={text:"Completed",colorClass:"text-green-600",dotClass:"bg-green-500"};break;case"Live":u={text:"Live",colorClass:"text-cyan-600",dotClass:"bg-cyan-500"};break;case"Missed":u={text:"Missed",colorClass:"text-red-600",dotClass:"bg-red-500"};break;case"Pending":u={text:"Upcoming",colorClass:"text-orange-600",dotClass:"bg-orange-400"};break;default:u={text:o,colorClass:"text-gray-600",dotClass:"bg-gray-300"}}else u=d(t,a,new Date);let m="flex flex-col p-4 mb-3 rounded-xl";return t.checked||o&&"Completed"===o?m+=" bg-green-100":o&&"Missed"===o||!o&&"Missed"===u.text?m+=" bg-red-100":m+=" bg-gray-50",(0,i.jsxs)("div",{id:"timetable-event-".concat(t.id),className:m,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{className:"flex items-center pr-3",children:(0,i.jsx)(r.P.button,{onClick:()=>c.checkTimetableEntry(t.id),className:"w-6 h-6 rounded-full border-2 flex items-center justify-center bg-white","aria-label":t.checked?"Mark as incomplete":"Mark as complete",whileTap:{scale:.85},animate:{scale:t.checked?1.1:1,backgroundColor:t.checked?"#22c55e":"#ffffff",borderColor:t.checked?"#22c55e":"#d1d5db"},transition:{type:"spring",stiffness:400,damping:15},children:t.checked&&(0,i.jsx)(r.P.svg,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:20},xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("p",{className:"text-lg font-semibold text-gray-800 truncate ".concat(t.checked?"line-through opacity-70":""),children:t.subject}),(0,i.jsx)("h4",{className:"text-base text-gray-600 truncate",children:t.topic}),!t.checked&&u&&(0,i.jsxs)("span",{className:"flex items-center gap-1 mt-1",children:[(0,i.jsx)("span",{className:"inline-block w-3 h-3 rounded-full border border-white flex-shrink-0 mr-2 ".concat(u.dotClass)}),(0,i.jsx)("span",{className:"text-sm font-semibold ".concat(u.colorClass),children:u.text})]})]}),(0,i.jsx)("div",{className:"flex flex-col items-end",children:(0,i.jsx)("p",{className:"text-lg font-bold text-gray-400",children:function(e){const[t,a]=e.split(":"),s=parseInt(t,10),n=s>=12?"pm":"am";return"".concat(s%12||12,":").concat(a," ").concat(n)}(t.time)})})]}),s&&(0,i.jsxs)("div",{className:"flex items-center gap-3 mt-3 pt-3 border-t-[3px] border-white justify-end",children:[(0,i.jsxs)(r.P.button,{onClick:()=>n(t.id),className:"flex items-center justify-center gap-1.5 w-20 py-1.5 bg-white rounded-lg text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors duration-200","aria-label":"Edit event",whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:[(0,i.jsx)("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.16 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),(0,i.jsx)("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})]}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Edit"})]}),(0,i.jsxs)(r.P.button,{onClick:()=>c.deleteTimetableEntry(t.id),className:"flex items-center justify-center gap-1.5 w-20 py-1.5 bg-white rounded-lg text-gray-600 hover:text-red-600 hover:bg-red-50 transition-colors duration-200","aria-label":"Delete event",whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 001.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z",clipRule:"evenodd"})}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Delete"})]})]})]})});var c=a(546);const d=e=>{let{isOpen:t,onClose:a,eventData:l,onUpdate:o,showNotification:d,onAddSimilar:u}=e;const[m,x]=(0,n.useState)(""),[g,b]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[f,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)("");(0,n.useEffect)(()=>{l&&(x(l.subject||""),b(l.topic||""),p(l.date||""),y(l.time||""))},[l]);return(0,i.jsx)(c.N,{children:t&&(0,i.jsx)(r.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:a,children:(0,i.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto p-6 relative",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Edit Study Event"}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"edit-modal-subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,i.jsx)("input",{type:"text",id:"edit-modal-subject",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",placeholder:"e.g., Anatomy",value:m,onChange:e=>x(e.target.value)})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"edit-modal-topic",className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),(0,i.jsx)("input",{type:"text",id:"edit-modal-topic",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",placeholder:"e.g., Cardiovascular System",value:g,onChange:e=>b(e.target.value)})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"edit-modal-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,i.jsx)("input",{type:"date",id:"edit-modal-date",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",value:h,onChange:e=>p(e.target.value)})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"edit-modal-time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),(0,i.jsx)("input",{type:"time",id:"edit-modal-time",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",value:f,onChange:e=>y(e.target.value)})]}),(0,i.jsxs)("div",{className:"mb-6 pt-4 border-t border-gray-200",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Repeat Event"}),(0,i.jsx)("button",{type:"button",onClick:()=>j(!v),className:"relative w-12 h-6 rounded-full focus:outline-none transition-colors duration-300 ".concat(v?"bg-blue-600":"bg-gray-300"),children:(0,i.jsx)("span",{className:"absolute top-1 left-1 h-4 w-4 rounded-full bg-white shadow transform transition-transform duration-300 ".concat(v?"translate-x-6":"translate-x-0")})})]}),v&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("label",{htmlFor:"future-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Future Date"}),(0,i.jsx)("input",{type:"date",id:"future-date",min:h,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",value:w,onChange:e=>N(e.target.value)})]})]}),(0,i.jsxs)("div",{className:"mt-8 flex justify-end space-x-3",children:[(0,i.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,i.jsx)("button",{type:"button",onClick:async()=>{l?m&&g&&h&&f?!v||w?(a(),setTimeout(async()=>{try{v?(await u((0,s.A)((0,s.A)({},l),{},{subject:m,topic:g,date:w,time:f,checked:!1})),d("New event created for future date.","success")):l.id&&await o(l.id,m,g,h,f)}catch(e){console.error("Error updating event:",e),d("Failed to update event. Please try again.","error")}},0)):d("Please select a future date.","error"):d("All fields are required.","error"):d("No event selected for editing.","error")},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:v?"Create Future Event":"Update Event"})]})]})})})};var u=a(377),m=a(420),x=a(204);const g=e=>{const t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)};function b(e,t){if(e.timetableEntries.length!==t.timetableEntries.length||e.selectedDisplayDate!==t.selectedDisplayDate)return!1;for(let a=0;a<e.timetableEntries.length;a++){const s=e.timetableEntries[a],n=t.timetableEntries[a];if(s.id!==n.id||s.checked!==n.checked||s.subject!==n.subject||s.topic!==n.topic||s.date!==n.date||s.time!==n.time)return!1}return!0}const h=n.memo(e=>{let{timetableEntries:t,showNotification:a,userId:r}=e;const c=(0,l.j)(),[b,h]=(0,n.useState)(!1),{isAdmin:p}=(0,m.z)(),[f,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)(null),[C,k]=(0,n.useState)(g(new Date)),[D,E]=(0,n.useState)(""),S=(0,n.useCallback)(e=>{j(e),e||N(null)},[]),T=(0,n.useCallback)(()=>{h(e=>!e)},[]),A=(0,n.useCallback)(()=>{y(!1)},[]),M=(0,n.useCallback)(()=>{S(!1)},[S]),L=(0,n.useCallback)(e=>{const a=t.find(t=>t.id===e);a&&(N(a),S(!0))},[t,S]),F=(0,n.useCallback)(e=>{c.deleteTimetableEntry(e)},[c]),z=(0,n.useCallback)(e=>{c.checkTimetableEntry(e)},[c]),P=(0,n.useCallback)(async(e,t,a,s,n)=>{await c.updateTimetableEntry(e,t,a,s,n),S(!1)},[c,S]),q=(0,n.useCallback)(e=>{c.addTimetableEntry(e.subject,e.topic,e.date,e.time)},[c]),H=(0,n.useMemo)(()=>{const e=new Date(C),t=6e4*e.getTimezoneOffset();return new Date(e.getTime()+t)},[C]),U=(0,n.useMemo)(()=>[...t].sort((e,t)=>e.date!==t.date?e.date.localeCompare(t.date):e.time.localeCompare(t.time)),[t]),V=(0,n.useMemo)(()=>{if(!D.trim())return U.filter(e=>e.date===C);const e=D.toLowerCase();return U.filter(t=>t.subject.toLowerCase().includes(e)||t.topic.toLowerCase().includes(e)||t.time.toLowerCase().includes(e))},[U,D,C]),O=(0,n.useMemo)(()=>{const e=new Date;return V.map(t=>{if(t.checked)return(0,s.A)((0,s.A)({},t),{},{status:"Completed"});const a=U.findIndex(e=>e.id===t.id),n=-1!==a?U[a+1]:void 0,l=new Date("".concat(t.date,"T").concat(t.time)),r=(e=>{if(e.endTime)return new Date("".concat(e.date,"T").concat(e.endTime));const[t]=e.time.split(":").map(Number);return new Date(new Date("".concat(e.date,"T").concat(e.time)).setHours(t+1))})(t),i=n?new Date("".concat(n.date,"T").concat(n.time)):null;return e>=l&&(!i||e<i)?(0,s.A)((0,s.A)({},t),{},{status:"Live"}):e<l?(0,s.A)((0,s.A)({},t),{},{status:"Pending"}):e>r&&n&&e>i&&!t.checked?(0,s.A)((0,s.A)({},t),{},{status:"Missed"}):(0,s.A)((0,s.A)({},t),{},{status:"Pending"})})},[V,U]),B=(0,n.useMemo)(()=>D.trim()?O.reduce((e,t)=>(e[t.date]||(e[t.date]=[]),e[t.date].push(t),e),{}):{},[O,D]),R=(0,n.useMemo)(()=>[{name:"subject",label:"Subject",placeholder:"e.g., Anatomy",required:!0},{name:"topic",label:"Topic",placeholder:"e.g., Cardiovascular System",required:!0},{name:"date",label:"Date",type:"date",required:!0,defaultValue:C},{name:"time",label:"Time",type:"time",required:!0,defaultValue:"09:00"}],[C]),W=(0,n.useCallback)(e=>{k(g(e))},[]),_=(0,n.useCallback)(()=>{const e=new Date(H);e.setDate(e.getDate()-1),W(e)},[H,W]),I=(0,n.useCallback)(()=>{const e=new Date(H);e.setDate(e.getDate()+1),W(e)},[H,W]),Y=()=>(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,i.jsx)("div",{className:"w-24 h-24 mb-4 text-gray-300",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Your timetable is empty"}),(0,i.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Start by adding your first event to see it here."}),(0,i.jsx)("button",{onClick:()=>y(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Event"})]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:"page-timetable",className:"page px-6 py-8 pb-40",children:[(0,i.jsx)("header",{className:"flex items-center justify-between mb-2",children:(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Timetable"})}),(0,i.jsx)("p",{className:"text-gray-500 mb-6",children:"Upcoming Study Schedule"}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)("input",{type:"text",value:D,onChange:e=>E(e.target.value),placeholder:"Search events by subject, topic, or time...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})}),D.trim()&&(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Search Results"})}),!D.trim()&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center justify-between px-0 py-6 text-gray-700 font-semibold text-lg",children:[(0,i.jsx)("button",{onClick:_,className:"p-2 rounded-full hover:bg-gray-100 active:scale-95 active:bg-gray-200 transition-all duration-200 ease-in-out","aria-label":"Previous day",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,i.jsx)("span",{className:"flex-grow text-center text-lg sm:text-base",children:H.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,i.jsx)("button",{onClick:I,className:"p-2 rounded-full hover:bg-gray-100 active:scale-95 active:bg-gray-200 transition-all duration-200 ease-in-out","aria-label":"Next day",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})}),p&&(0,i.jsx)("button",{onClick:T,className:"\n                fixed bottom-[9.5rem] right-6 z-50\n                bg-blue-50 text-blue-700 font-semibold \n                py-3 px-5 rounded-xl shadow-md \n                flex items-center text-sm\n                transition-all duration-200 ease-in-out\n                hover:bg-blue-100 hover:shadow-lg hover:-translate-y-0.5\n                active:scale-[0.98] active:shadow-sm\n              ",title:b?"Done editing timetable":"Edit timetable",children:b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.CMH,{className:"mr-2"})," Done"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.F7,{className:"mr-2"}),"Edit"]})}),p&&(0,i.jsxs)("button",{onClick:()=>y(!0),className:"\n                fixed bottom-20 right-6 z-50\n                bg-blue-600 text-white font-semibold \n                py-4 px-6 rounded-xl shadow-lg \n                flex items-center\n                transition-all duration-200 ease-in-out\n                hover:bg-blue-700 hover:shadow-xl hover:-translate-y-0.5\n                active:scale-[0.98] active:shadow-sm\n              ",title:"Add a new study event",children:[(0,i.jsx)(x.OiG,{className:"mr-2"}),(0,i.jsx)("span",{children:"Add Event"})]}),(0,i.jsx)("div",{id:"timetable-events-list",className:"space-y-4 bg-white rounded-lg min-h-[100px] pb-40",children:O.length>0?(0,i.jsx)("div",{className:"space-y-4",children:D.trim()?Object.keys(B).sort().map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-semibold text-base text-blue-700 mb-2.5 mt-5 pl-1 tracking-normal pb-1",children:new Date(e).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),(0,i.jsx)("div",{className:"space-y-4",children:B[e].map((e,t,a)=>{const s=O.find(t=>t.id===e.id)||e;return(0,i.jsx)(o,{event:e,status:s.status,nextEvent:a[t+1],isEditMode:b,onDelete:c.deleteTimetableEntry,onCheck:c.checkTimetableEntry,onEdit:L},e.id)})})]},e)):O.map((e,t)=>(0,i.jsx)(o,{event:e,status:e.status,nextEvent:O[t+1],isEditMode:b,onDelete:F,onCheck:z,onEdit:L},e.id))}):D.trim()?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("p",{className:"text-gray-500",children:"No events match your search."}),(0,i.jsx)("button",{onClick:()=>E(""),className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Clear search"})]}):(0,i.jsx)(Y,{})})]}),(0,i.jsx)(u.A,{isOpen:f,onClose:A,onSave:e=>{c.addTimetableEntry(e.subject,e.topic,e.date,e.time)},title:"Add New Study Event",fields:R}),(0,i.jsx)(d,{isOpen:v,onClose:M,eventData:w,onUpdate:P,onAddSimilar:q,showNotification:a})]})},b)},377:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(555),n=a(43),l=a(277),r=a(546),i=a(487),o=a(579);const c={},d=e=>{let{isOpen:t,onClose:a,onSave:d,title:u,fields:m,initialState:x=c}=e;const g=(0,l.j)(),[b,h]=(0,n.useState)({});(0,n.useEffect)(()=>{if(t){const e=m.reduce((e,t)=>(e[t.name]=x[t.name]||t.defaultValue||"",e),{});h(e)}else h({})},[t,m,x]);const p=e=>{const{name:t,value:a}=e.target;h(e=>(0,s.A)((0,s.A)({},e),{},{[t]:a}))};return(0,o.jsx)(r.N,{children:t&&(0,o.jsx)(i.P.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.22},onClick:a,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto relative",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:u}),(0,o.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),"textarea"===e.type?(0,o.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder||"",value:b[e.name]||"",onChange:p,disabled:e.disabled||!1,rows:"3",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"}):"select"===e.type?(0,o.jsx)("select",{id:e.name,name:e.name,value:b[e.name]||"",onChange:p,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200",children:e.options&&e.options.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,o.jsx)("input",{type:e.type||"text",id:e.name,name:e.name,placeholder:e.placeholder||"",value:b[e.name]||"",onChange:p,disabled:e.disabled||!1,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 disabled:bg-gray-200"})]},e.name))}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition duration-300",children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>{for(const e of m)if(e.required&&!b[e.name])return void(g.showNotification?g.showNotification("".concat(e.label," is required."),"error"):console.error("".concat(e.label," is required.")));d?d(b):g.addTimetableEntry&&g.addTimetableEntry(b),a()},className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"Save"})]})]})})})}}}]);
//# sourceMappingURL=3.55e0ec52.chunk.js.map