"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[133],{3133:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(5043),r=s(7420),l=s(3655),n=s(9916),o=s(579);const i=a.memo(e=>{let{testData:t,todayFocusItems:s,timetableEntries:i,onManageContent:d,onLogout:c,currentUserId:x,userName:u,userEmail:m,showNotification:h,onResetLocalData:p}=e;const[g,b]=(0,a.useState)(!1),[f,j]=(0,a.useState)(null),{isAdmin:w,toggleAdmin:y}=(0,r.z)(),v=a.useCallback(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);t.subjects&&t.todayFocus&&t.timetable?(j(t),b(!0)):h("Invalid file format. Please upload a valid exported data file.","error")}catch(t){h("Failed to parse JSON file. Please ensure it's a valid JSON.","error"),console.error("Error parsing import file:",t)}},e.readAsText(t)}},[h]),N=a.useCallback(async()=>{b(!1),f&&(await(0,n.q1)(x,h,f),j(null),document.getElementById("importFileInput").value="")},[x,h,f]),k=a.useCallback(()=>{b(!1),j(null),document.getElementById("importFileInput").value=""},[]),C=a.useCallback(()=>{d&&d()},[d]),L=a.useCallback(()=>{c&&c()},[c]),I=a.useCallback((e,t)=>{h&&h(e,t)},[h]);return(0,o.jsxs)("div",{id:"page-profile",className:"page px-6 py-8",children:[(0,o.jsxs)("header",{className:"mb-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),(0,o.jsx)("p",{className:"text-gray-500 mt-2",children:"Manage your account and app settings."})]}),(0,o.jsx)("div",{className:"bg-gray-100 p-6 rounded-lg mb-6",children:(0,o.jsxs)("div",{className:"flex items-center space-x-4 relative",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("img",{src:l,alt:"User Avatar",className:"w-16 h-16 rounded-full border-2 border-white shadow"}),(0,o.jsx)("span",{className:"absolute bottom-0 right-0 bg-green-500 rounded-full p-1 border-2 border-white",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Nikhil Kumar"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:m||"No Email"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 break-all",children:"Admin"})]})]})}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Settings"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-gray-800",children:"Admin Mode"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Enable to show all edit buttons"})]}),(0,o.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:w,onChange:y}),(0,o.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,o.jsxs)("button",{onClick:C,className:"w-full bg-blue-50 text-blue-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-blue-100 transition duration-200",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.72l-.43.22a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.22a2 2 0 0 1 1 1.72V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.72l.43-.22a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.22a2 2 0 0 1-1-1.72V4a2 2 0 0 0-2-2z"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Manage Subjects & Tests"]}),(0,o.jsxs)("button",{onClick:()=>(0,n.Df)(x,I),className:"w-full bg-green-50 text-green-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-green-100 transition duration-200",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,o.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,o.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export All Data"]}),(0,o.jsxs)("label",{className:"w-full bg-purple-50 text-purple-700 font-semibold py-3 px-4 rounded-lg flex items-center gap-3 hover:bg-purple-100 transition duration-200 cursor-pointer",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,o.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,o.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Import Data",(0,o.jsx)("input",{type:"file",accept:".json",onChange:v,className:"hidden",id:"importFileInput"})]})]})]}),(0,o.jsx)("div",{className:"mt-auto pt-6 border-t border-gray-200",children:(0,o.jsxs)("button",{onClick:L,className:"w-full bg-red-100 text-red-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-red-200 transition duration-300",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,o.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,o.jsx)("polyline",{points:"17 16 22 12 17 8"}),(0,o.jsx)("line",{x1:"22",y1:"12",x2:"10",y2:"12"})]}),"Logout"]})}),g&&(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-auto",children:[(0,o.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Confirm Data Import"}),(0,o.jsx)("p",{className:"text-gray-700 mb-6",children:"Importing this data will overwrite your existing subjects, tests, focus items, and timetable entries. Are you sure you want to proceed?"}),(0,o.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,o.jsx)("button",{onClick:k,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-200",children:"Cancel"}),(0,o.jsx)("button",{onClick:N,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition duration-200",children:"Import Data"})]})]})})]})})},3655:(e,t,s)=>{e.exports=s.p+"static/media/profile-admin.024f0d2cc064abc938aa.jpg"}}]);
//# sourceMappingURL=133.9f7c0f29.chunk.js.map