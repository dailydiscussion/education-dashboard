"use strict";(self.webpackChunkmy_education_dashboard=self.webpackChunkmy_education_dashboard||[]).push([[133],{133:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(43),n=s(916),a=s(579);const o=r.memo(e=>{let{testData:t,todayFocusItems:s,timetableEntries:o,onManageContent:l,onLogout:i,currentUserId:d,userName:c,userEmail:x,showNotification:u,onResetLocalData:p}=e;const[m,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null);return(0,a.jsxs)("div",{id:"page-profile",className:"page px-6 py-8",children:[(0,a.jsxs)("header",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Manage your account and app settings."})]}),(0,a.jsx)("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("img",{src:"https://placehold.co/80x80/E2E8F0/4A5568?text=NK",alt:"User Avatar",className:"w-16 h-16 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:c||"User"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:x||"No Email"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 break-all",children:["User ID: ",d||"N/A"]})]})]})}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("button",{onClick:l,className:"w-full bg-blue-50 text-blue-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-between hover:bg-blue-100 transition duration-200",children:["Manage Subjects & Tests",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,a.jsxs)("button",{onClick:()=>(0,n.Df)(d,u),className:"w-full bg-green-50 text-green-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-between hover:bg-green-100 transition duration-200",children:["Export All Data",(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,a.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,a.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]}),(0,a.jsxs)("label",{className:"w-full bg-purple-50 text-purple-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-between hover:bg-purple-100 transition duration-200 cursor-pointer",children:["Import Data",(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);t.subjects&&t.todayFocus&&t.timetable?(b(t),h(!0)):u("Invalid file format. Please upload a valid exported data file.","error")}catch(t){u("Failed to parse JSON file. Please ensure it's a valid JSON.","error"),console.error("Error parsing import file:",t)}},e.readAsText(t)}},className:"hidden",id:"importFileInput"}),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,a.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,a.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})]})]}),(0,a.jsx)("div",{className:"mt-auto pt-6 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:i,className:"w-full bg-red-100 text-red-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-red-200 transition duration-300",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,a.jsx)("polyline",{points:"17 16 22 12 17 8"}),(0,a.jsx)("line",{x1:"22",y1:"12",x2:"10",y2:"12"})]}),"Logout"]})}),m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Confirm Data Import"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:"Importing this data will overwrite your existing subjects, tests, focus items, and timetable entries. Are you sure you want to proceed?"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{h(!1),b(null),document.getElementById("importFileInput").value=""},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-200",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{h(!1),g&&(await(0,n.q1)(d,u,g),b(null),document.getElementById("importFileInput").value="")},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition duration-200",children:"Import Data"})]})]})})]})})}}]);
//# sourceMappingURL=133.5d8c8179.chunk.js.map